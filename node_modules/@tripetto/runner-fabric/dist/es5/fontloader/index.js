"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useFontLoader = void 0;
var react_1 = require("react");
var loader_1 = require("./loader");
var useFontLoader = function (font, frameRef, fallback) {
    var _a = (0, react_1.useState)(function () {
            return font ? (loader_1.FontLoader.isStandardFont(font) ? font : undefined) : "";
        }),
        fontFamily = _a[0],
        setFontFamily = _a[1];
    var idRef = (0, react_1.useRef)("");
    var fontRef = (0, react_1.useRef)("");
    var setRef = (0, react_1.useRef)(setFontFamily);
    if (!idRef.current) {
        idRef.current = loader_1.FontLoader.id;
    }
    setRef.current = setFontFamily;
    (0, react_1.useEffect)(function () {
        if (fontRef.current !== font) {
            fontRef.current = font;
            if (fontFamily !== font) {
                loader_1.FontLoader.request(idRef, fontRef, frameRef, setRef, fallback);
            }
        }
    });
    return [typeof fontFamily !== "string", fontFamily];
};
exports.useFontLoader = useFontLoader;
