import { jsxs, Fragment, jsx } from "react/jsx-runtime";
import { useState } from "react";
import { SHA2 } from "@tripetto/runner";
import { InputFabric } from "../input/index.mjs";

let TextCount = 0;
const TextFabric = (props) => {
    const [id] = useState(() => SHA2.SHA2_256("Text" + TextCount++));
    return jsxs(Fragment, {
        children: [
            jsx(
                InputFabric,
                Object.assign(
                    { list: props.suggestions && id, type: "text", inputMode: props.autoComplete === "tel" ? "tel" : "text" },
                    props
                )
            ),
            props.suggestions &&
                jsx("datalist", {
                    id: id,
                    children: props.suggestions.map((suggestion, index) => suggestion && jsx("option", { value: suggestion }, index)),
                }),
        ],
    });
};

export { TextFabric };
